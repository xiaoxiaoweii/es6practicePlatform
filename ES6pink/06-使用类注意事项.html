<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <button>点击</button>
  <script>
    var that
    class Star {
      constructor(uname, age) {
        /* constructor 里面的this指向创建的实例对象 */
        that = this
        console.log(this)
        this.uname = uname;
        this.age = age;
        this.sing()
        this.btn = document.querySelector('button');
        /* 点击过后调用 不加小括号 */
        this.btn.onclick = this.sing
      }
      sing() {
        /* 这个sing方法里面的this指向的是btn 因为btn调用了 */
        console.log(`${that.uname}${that.age}`) // that里面存储的是constructor里的this
      }
      dance() {
        /* 里面的this指向的是实例对象 因为实例对象调用了这个函数 */
        console.log(this)
      }
    }
    var ldh = new Star('刘德华', 18);
    ldh.sing();
    ldh.dance();
    /* 1. 在ES6 中 类没有变量提升 所以必须先定义类 才能通过类实例化对象 */
    /* 2. 类里面的共有的属性和方法一定要加this使用 */
    /* 3. 类里面this的指向问题 */
  </script>
</body>

</html>